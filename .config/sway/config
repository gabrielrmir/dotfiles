# i3 config file (v4)
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

# variables

set $mod      Mod4
set $browser  firefox
set $terminal alacritty
set $launcher rofi -show drun

# motion keys

set $left  h
set $down  j
set $up    k
set $right l

# font

font pango:Iosevka Term 10

# startup programs

# exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock -i ~/Wallpapers/lock.png --nofork
# exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# floating window drag key

floating_modifier $mod

# #----------#
# | keybinds |
# #----------#

bindsym $mod+Return  exec $terminal
bindsym $mod+b       exec $browser
bindsym $mod+d       exec --no-startup-id $launcher
bindsym $mod+Shift+e exec --no-startup-id "~/.config/rofi/scripts/powermenu.sh"
bindsym $mod+x       exec --no-startup-id "~/.config/rofi/scripts/websearch.sh"

# TODO: use wayland option
bindsym Print exec --no-startup-id "\
    maim --hidecursor -s ~/screenshots/$(date +%Y-%m-%d--%H-%M-%S | tr A-Z a-z).png; \
    notify-send 'Screenshot created' &"

bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

bindsym $mod+f fullscreen toggle
bindsym $mod+space layout toggle split
bindsym $mod+Shift+v floating toggle
bindsym $mod+v focus mode_toggle

# laptop keys

bindsym XF86AudioRaiseVolume exec --no-startup-id wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec --no-startup-id wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

# change focus

bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

# move focused window

bindsym $mod+Shift+$left  move left  64
bindsym $mod+Shift+$down  move down  64
bindsym $mod+Shift+$up    move up    64
bindsym $mod+Shift+$right move right 64

# #------------#
# | workspaces |
# #------------#

# workspace names

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# move focused container to workspace

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# resizing

bindsym $mod+r mode "resize"

mode "resize" {
  bindsym $left  resize shrink width  10 px or 10 ppt
  bindsym $down  resize grow   height 10 px or 10 ppt
  bindsym $up    resize shrink height 10 px or 10 ppt
  bindsym $right resize grow   width  10 px or 10 ppt

  bindsym Return mode "default"
  bindsym Escape mode "default"
  bindsym $mod+r mode "default"
}

# styling

default_border normal 2
default_floating_border normal 2

# colors

set $fg    #ebdbb2
set $bg    #282828
set $bg2   #504945
set $bg4   #7c6f64
set $red   #fb4934

focus_on_window_activation none

client.focused          $bg4 $bg4 $fg $bg4 $bg4
client.focused_inactive $bg2 $bg2 $fg $bg2 $bg2
client.unfocused        $bg2 $bg2 $fg $bg2 $bg2
client.urgent           $red $red $bg $red $red
client.placeholder      $bg  $bg  $fg $bg  $bg
client.background       $fg

bar {
    swaybar_command waybar
}

output "*" bg ~/Wallpapers/village.jpg fill
